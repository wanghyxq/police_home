# 复用通用个人中心页面计划

根据您的要求，理发师端将不再使用独立的个人中心页面 `pages/barber/profile.vue`，而是复用通用的 `pages/mine/index.vue`。

## 1. 修改导航跳转 (`pages/barber/components/barber-tabbar.vue`)

我们将修改理发师端底部导航栏组件，使其在点击“我的”时跳转到通用个人中心页面。

*   **原逻辑**：跳转至 `/pages/barber/profile`
*   **新逻辑**：跳转至 `/pages/mine/index`

## 2. 适配通用页面 (`pages/mine/index.vue`)

我们需要确保 `pages/mine/index.vue` 能够识别理发师身份，并展示正确的底部导航栏（理发师端 Tabbar）。

*   **动态 Tabbar**：
    *   引入 `barber-tabbar` 组件。
    *   根据用户角色 (`roleName`) 动态决定显示民警端底部导航还是理发师端底部导航。
    *   如果是理发师角色，隐藏原有的民警端底部导航，显示 `barber-tabbar` 并高亮“我的”选项（index=2）。

## 3. 清理废弃页面

*   删除 `pages/barber/profile.vue` 文件。
*   从 `pages.json` 中移除 `/pages/barber/profile` 的注册信息。
*   更新 `permission.js` 中的逻辑（如果之前有针对 `/pages/barber/profile` 的特殊处理，虽然之前只写了前缀匹配，应该不受影响）。

## 4. 实施步骤

1.  **修改 `barber-tabbar.vue`**：更新跳转路径。
2.  **修改 `pages/mine/index.vue`**：
    *   引入 `BarberTabbar`。
    *   添加条件渲染逻辑：`v-if="isBarber"` 显示理发师 Tabbar，`v-else` 显示通用 Tabbar。
    *   添加 `isBarber` 计算属性。
3.  **更新 `pages.json`**：删除废弃页面配置。
4.  **删除文件**：删除 `pages/barber/profile.vue`。

这样，无论是哪种角色，点击“我的”都会进入同一个页面，但底部导航会根据角色自动适配，保持用户体验的一致性。