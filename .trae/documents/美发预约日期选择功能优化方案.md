# 优化美发预约日期选择功能计划

基于对现有代码和业务场景的分析，我们将对 `book.vue` 进行以下优化，以提升用户体验和代码的可维护性。

## 1. 业务场景与策略分析
*   **预约范围**：设定为 **未来 14 天**。这足以覆盖绝大多数用户的短期和中期预约需求，同时避免因排班未定导致的远期预约问题。
*   **营业时间规则**：将硬编码的“周一、三、五”逻辑提取为**可配置参数**。虽然目前警营可能仅这三天开放，但灵活的配置能适应未来可能变更为“周一至周五”或“全周无休”的情况。
*   **展示策略**：采用 **"过滤式"展示**，仅在列表中显示营业日，隐藏非营业日。这样能减少用户在移动端无效滑动的次数，提高选择效率。

## 2. 技术实现方案

### A. 配置化日期逻辑 (`book.vue`)
在 `data` 或组件常量中定义配置项，不再硬编码在循环中。
*   `maxDays`: 14 (最大预约天数)
*   `workDays`: `[1, 3, 5]` (营业日：周一、周三、周五)

### B. 重构 `initCalendar` 方法
优化日期生成算法，使其更健壮且易于扩展：
1.  从“今天”开始遍历未来 `maxDays` 天。
2.  判断每一天是否为 `workDays` 之一。
3.  构建日期对象，增加人性化标签：
    *   **今天**：显示 "今天" 而不是 "周X"
    *   **明天**：显示 "明天"
    *   **其他**：显示 "周一"、"周二" 等
4.  生成的日期列表将包含：`fullDate` (yyyy-MM-dd), `displayWeek` (今天/周一), `displayDate` (MM-dd)。

### C. UI 交互优化
*   **视觉反馈**：保持当前的高亮选中风格，确保清晰可见。
*   **默认选中**：如果生成的列表不为空，默认选中第一个可用的营业日（通常是今天或最近的一个工作日）。

## 3. 实施步骤

1.  **修改 `book.vue`**：
    *   更新 `initCalendar` 方法，引入配置参数和新的日期生成逻辑。
    *   更新模板中的循环渲染部分，使用新的 `displayWeek` 和 `displayDate` 字段。
2.  **验证**：
    *   检查生成的日期列表是否符合预期（仅包含周一、三、五）。
    *   确认“今天”、“明天”标签显示正确。
    *   确认点击日期后能正确触发 `fetchSlots` 获取排班。

此方案在保持现有业务规则（周一三五）不变的前提下，极大提升了代码的灵活性和界面的友好度。